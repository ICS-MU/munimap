<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
  <link href="../css/example/example.css" media="all" rel="stylesheet" type="text/css" />
  <link href="../css/munimap.css" media="all" rel="stylesheet" type="text/css" />

  <link rel='shortcut icon' type='image/x-icon' href='../img/favicon.ico' />

  <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>

  <title>munimap - úprava clusterování</title>
</head>

<body>
  <div class="header">
    <img src="../img/logo_muni.svg" alt="Masarykova univerzita" title="Masarykova univerzita">
  </div>
  <h1>
    <a href="../">
      <span class="munimap-logo">
        <span class="muni">muni</span><span class="map">map</span>
      </span>
    </a> - úprava clusterování</h1>
  <div class="munimap-warning-wrapper <%= warningWrapperClass %>">
    <div class="munimap-warning">
      <span class="munimap-warning">Upozornění</span> Toto je starší verze (<%= appVersion %>) munimapu. Doporučujeme použít
      <a href="/munimap/latest/example/custommarker.html">nejnovější verzi</a>.
    </div>
  </div>
  <div class="separator-solid">
  </div>
  <div class="navigation">
    <div class="left">
      <a href="../">
        <span class="munimap-logo">
          <span class="muni">muni</span><span class="map">map</span>
        </span>
      </a> &gt;
      <a href="index.html">příklady použití</a> &gt;
      <span>úprava clusterování</span>
    </div>
  </div>
  <div class="content">
    <div id="map" class="map"></div>
    <!-- <div id="map2" class="map" style="margin-top: 20px;"></div> -->
  </div>
  <div class="content">
    <p>
      Pomocí parametru <code><a href="../doc/#cluster">cluster</a></code> je možné upravit výchozí chování shlukování do clusterů. Shlukování má základní 4 stavy:
      <ul>
        <li>marked.multiple - cluster s více prvky, kde alespoň jeden je marker</li>
        <li>marked.single - cluster s jedním prvkem typu marker</li>
        <li>unmarked.multiple - cluster s více prvky, kde žádný není marker</li>
        <li>unmarked.single - cluster s jedním prvkem, který není marker</li>
      </ul>
    </p>
    <p>
      Pro každý stav lze nastavit vlastní ikonu (vč. velikosti a pozice) a barvu popisku. Parametr <code><a href="../doc/#cluster">cluster</a></code> má tedy následující vlastnosti:
      <ul>
        <li>
          <b>marked</b> - cluster, kde alespoň jeden je marker - nepovinný parametr
          <ul>
            <li>
              <b>icon</b> - definice vlastní ikony - nepovinný parametr
              <ul>
                <li><b>single</b> - cluster, který obsahuje pouze jeden prvek - nepovinný parametr
                  <ul>
                    <li>
                      <b>url</b> - url ikony - povinný parametr
                    </li>
                    <li>
                      <b>size</b> - velikost ikony (šířka a výška v pixelech) - povinný parametr
                    </li>
                    <li>
                      <b>position</b> - pozice ikony (<i>above</i> - nad souřadnicemi, <i>below</i> - pod souřadnicemi, <i>origin</i> - na souřadnice) - nepovinný parametr
                    </li>
                  </ul>
                </li>
                <li><b>multiple</b> - cluster, který obsahuje více prvků - nepovinný parametr
                  <ul>
                    <li>
                      <b>url</b> - url ikony - povinný parametr
                    </li>
                    <li>
                      <b>size</b> - velikost ikony (šířka a výška v pixelech) - povinný parametr
                    </li>
                    <li>
                      <b>position</b> - pozice ikony (<i>above</i> - nad souřadnicemi, <i>below</i> - pod souřadnicemi, <i>origin</i> - na souřadnice) - nepovinný parametr
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
            <li>
              <b>color</b> - definice barvy popisku - nepovinný parametr
              <ul>
                <li><b>single</b> - cluster, který obsahuje pouze jeden prvek - nepovinný parametr
                </li>
                <li><b>multiple</b> - cluster, který obsahuje více prvků - nepovinný parametr
                </li>
              </ul>
            </li>
          </ul>
        </li>
        <li>
          <b>unmarked</b> - cluster, ve kterém není žádný marker - nepovinný parametr
          <ul>
            <li>
              <b>icon</b>- definice vlastní ikony - nepovinný parametr
              <ul>
                <li><b>single</b> - cluster, který obsahuje pouze jeden prvek - nepovinný parametr
                  <ul>
                    <li>
                      <b>url</b> - url ikony - povinný parametr
                    </li>
                    <li>
                      <b>size</b> - velikost ikony (šířka a výška v pixelech) - povinný parametr
                    </li>
                    <li>
                      <b>position</b> - pozice ikony (<i>above</i> - nad souřadnicemi, <i>below</i> - pod souřadnicemi, <i>origin</i> - na souřadnice) - nepovinný parametr
                    </li>
                  </ul>
                </li>
                <li><b>multiple</b> - cluster, který obsahuje více prvků - nepovinný parametr
                  <ul>
                    <li>
                      <b>url</b> - url ikony - povinný parametr
                    </li>
                    <li>
                      <b>size</b> - velikost ikony (šířka a výška v pixelech) - povinný parametr
                    </li>
                    <li>
                      <b>position</b> - pozice ikony (<i>above</i> - nad souřadnicemi, <i>below</i> - pod souřadnicemi, <i>origin</i> - na souřadnice) - nepovinný parametr
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
            <li>
              <b>color</b> - definice barvy popisku - nepovinný parametr
              <ul>
                <li><b>single</b> - cluster, který obsahuje pouze jeden prvek - nepovinný parametr
                </li>
                <li><b>multiple</b> - cluster, který obsahuje více prvků - nepovinný parametr
                </li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </p>
    <p>
      Kromě toho lze přenastavit hodnotu minimální vzdálenosti mezi jednotlivými clustery pomocí parametru:
      <ul>
        <li><b>distance</b> - minimální vzdálenost mezi clustery v pixelech - nepovinný parametr</li>
      </ul>
    </p>
    <pre class="prettyprint">
&lt;script type="text/javascript"&gt;
  munimap.create({
    target: 'map',
    markers: [
      new ol.Feature({
        geometry: new ol.geom.Point([16.6311797, 49.2019158]),
        label: 'Vojenská nemocnice',
        detail:'&lt;h4&gt;Vojenská nemocnice&lt;/h4&gt;&lt;a href="www.vnbrno.cz" target="_blank"&gt;www.vnbrno.cz&lt;/a&gt;',
        color: 'green',
        onClick: function (evt) { //evt: PointerEvent
          return {
            animation: 'zoomTo', //enum ['zoomTo', 'centerTo', 'none']
          };
        },
        icon: {
          url: '../munimap/rectangle.png',
          size: [20, 20], // [width, height] in px
          position: 'origin', // enum ['above', 'below', 'origin']           
        },
      }),
      new ol.Feature({
        geometry: new ol.geom.Point([16.612802, 49.190582]),
        label: 'Brno hlavní nádraží',
        detail: '&lt;h4&gt;Hlavní nádraží&lt;/h4&gt;&lt;a href="https://www.cd.cz" target="_blank">www.cd.cz&lt;/a&gt;',
      }),
      new ol.Feature({
        geometry: new ol.geom.Point([16.616667, 49.185833]),
        label: 'Autobusové nádraží Zvonařka'
      }),
      'BMA01',
      'BHA04N01019'
    ],
    cluster: {
      marked: {
        icon: {
          single: {
            url: '../munimap/rectangle_blue.png',
            size: [20, 20], // [width, height] in px
            position: 'above', // enum ['above', 'below', 'origin']
          },
          multiple: {
            url: '../munimap/rectangle_purple.png',
            size: [20, 20],
            position: 'above',
          }
        },
        color: {
          single: '#0000dc',
          multiple: 'purple'
        }
      },
      unmarked: {
        icon: {
          single: {
            url: '../munimap/triangle_orange.png',
            size: [20, 20],
            position: 'below',
          },
          multiple: {
            url: '../munimap/triangle_cyan.png',
            size: [20, 20],
            position: 'below',
          }
        },
        color: {
          single: 'orange',
          multiple: 'darkcyan'
        }
      },
    }
  });
&lt;/script&gt;
      </pre>
    <p>
      Parametry funkce
      <code><a href="../doc/#create">munimap.create</a></code> jsou následující:
    </p>
    <ul>
      <li>
        <code><a href="../doc/#target">target</a></code> - určuje id elementu, do kterého se mapa vykreslí</li>
      <li>
        <code><a href="../doc/#markers">markers</a></code> - pole zvýrazněných bodů (špendlíků). Poloha je popsána zeměpisnými souřadnicemi v pořadí zemepisná délka, zeměpisná
        šířka.
      </li>
      <li>
        <code><a href="../doc/#cluster">cluster</a></code> - konfigurace clusterování
      </li>
    </ul>
    <p>
      Více se dozvíte v naší <a href="../doc">dokumentaci</a>.
    </p>      
  </div>
  <div class="navigation">
    <div class="left">
      <a href="../">
        <span class="munimap-logo">
          <span class="muni">muni</span><span class="map">map</span>
        </span>
      </a> &gt;
      <a href="index.html">příklady použití</a> &gt;
      <span>úprava clusterování</span>
    </div>
  </div>
  <div class="footer">
    <div class="left">
      Kontakt:
      <a href="mailto:gishelp%40ics.muni.cz">gishelp&#064;ics.muni.cz</a>
    </div>
    <div style="position: absolute;left: 48%;">
      <a href="#" class="mc-open-dialog">Nastavení cookies</a>
    </div>
    <div class="right">
      <a href="http://www.ics.muni.cz/" target="_blank">
        <img class="logo-uvt" src="../img/logo_ics.png" alt="Ústav výpočetní techniky MU" title="Ústav výpočetní techniky MU">
      </a>
    </div>
  </div>

  <script type="text/javascript">
    munimap.create({
      target: 'map',
      markers: [
        new ol.Feature({
          geometry: new ol.geom.Point([16.6311797, 49.2019158]),
          label: 'Vojenská nemocnice',
          detail:'<h4>Vojenská nemocnice</h4><a href="https://www.vnbrno.cz" target="_blank">www.vnbrno.cz</a>',
          color: 'green',
          onClick: function (evt) { //evt: PointerEvent
          return {
            animation: 'zoomTo', //enum ['zoomTo', 'centerTo', 'none']
          };
        },
          icon: {
            url: '../img/rectangle.png',
            size: [20, 20], // [width, height] in px
            position: 'origin', // enum ['above', 'below', 'origin']            
          },
        }),
        new ol.Feature({
          geometry: new ol.geom.Point([16.612802, 49.190582]),
          label: 'Brno hlavní nádraží',
          detail: '<h4>Hlavní nádraží</h4><a href="https://www.cd.cz" target="_blank">www.cd.cz</a>',
        }),
        new ol.Feature({
          geometry: new ol.geom.Point([16.616667, 49.185833]),
          label: 'Autobusové nádraží Zvonařka'
        }),
        'BMA01',
        'BHA04N01019'
      ],
      cluster: {
        marked: {
          icon: {
            single: {
              url: '../img/rectangle_blue.png',
              size: [20, 20], // [width, height] in px
              position: 'above', // enum ['above', 'below', 'origin']
            },
            multiple: {
              url: '../img/rectangle_purple.png',
              size: [20, 20],
              position: 'above',
            }
          },
          color: {
            single: '#0000dc',
            multiple: 'purple'
          }
        },
        unmarked: {
          icon: {
            single: {
              url: '../img/triangle_orange.png',
              size: [20, 20],
              position: 'below',
            },
            multiple: {
              url: '../img/triangle_cyan.png',
              size: [20, 20],
              position: 'below',
            }
          },
          color: {
            single: 'orange',
            multiple: 'darkcyan'
          }
        },
        // facultyAbbr: true,
        // distance: 120
      }
    });
  </script>
  <script type="text/plain" class="mc-analytics">

    (function(i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function() {
      (i[r].q = i[r].q || []).push(arguments)
    }, i[r].l = 1 * new Date(); a = s.createElement(o),
      m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-43867643-3', 'auto');
    ga('send', 'pageview');
  </script>
  <script>
    !function(i,c){i.muniCookies=c;var s=document.createElement("script");s.src=c.scriptUrl+"main.js",document.head.appendChild(s)}(window,{
    scriptUrl: 'https://cdn.muni.cz/Scripts/libs/muni-cookies/',
    lang: 'cs',
    key: '82748854-bf78-4d53-b305-b65851c39a0f',
    customStyle: true})
  </script>

</body>

</html>