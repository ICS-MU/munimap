<!doctype html>
<html lang="cs">
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <meta name="description" content=""/>
    <meta name="keywords" content="" />
    <meta name="author" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <link href="../css/munimap.css" media="all" rel="stylesheet" type="text/css" />
  <title>munimap - přehled změn ve verzi 2.0</title>
</head>
<body>
  <div class="header">
    <img src="../img/logo_muni.svg" 
      alt="Masarykova univerzita" title="Masarykova univerzita">
  </div>
  <h1>
    <a href="../">
      <span class="munimap-logo">
        <span class="muni">muni</span><span class="map">map</span>
      </span>
    </a> - přehled změn ve verzi 2.0
  </h1>
  <div class="separator-solid"></div>
  <div class="content">
    <h2>Nový munimap je tady!</h2>
    <p>
      Obsahuje kompletně přepracované vývojové prostředí, odstraňuje závislost 
      na Google Closure a používá nové technologie jako 
      Webpack, React, Redux aj.
    </p>
    <div class="separator"></div>
    <div class="columns">
      <div class="left" style="vertical-align: middle;">
        <h3 style="margin-top: 1em; margin-bottom: 1em;">
          Výměna a povýšení technologií,
        </h3>
        <p>
          Původní verze munimapu byla postavena na&nbsp;technologii 
          Google Closure, konkrétně na&nbsp;kompilátoru Closure Compiler 
          a&nbsp;knihovně Closure Library, které byly dohromady provázané 
          prostřednictvím technologie plovr. V&nbsp;posledních letech však 
          byla viditelná tendence útlumu na&nbsp;vývoji plovru  
          a&nbsp;jeho pomalé přizpůsobování novým verzím CC, CL 
          a&nbsp;EcmaSriptu samotného. Z&nbsp;těchto důvodu jsme se rozhodli 
          kompletně vyměnit vývojové prostředí munimapu směrem k&nbsp;modernímu 
          <b>EcmaScriptu 6+</b> a&nbsp;knihovnám jako je 
          <b><a href="https://webpack.js.org/">Webpack</a></b> nebo 
          <b><a href="https://reactjs.org/">React</a></b>. 
          Důležitým požadavkem byla také 
          efektivní správa balíčku potřebných  pro chod aplikace pomocí 
          <b><a href="https://www.npmjs.com/">npm</a></b> 
          (Node Package Manager).
        </p>
        <p>
          Kombinace knihoven Webpack a&nbsp;Babel umožnuje spouštět vývojové 
          prostředí a&nbsp;buildovat výsledný kód za&nbsp;minimálního úsilí. 
          Na vstupu tak může být nejnovější EcmaScript a&nbsp;pouhou konfigurací 
          zmíněných knihoven je možné vytvořit výslednou aplikaci 
          kompatibilní třeba i&nbsp;s&nbsp;prohlížečem Internet Explorer 11. 
          Oproti Closure Compileru trvá kompilace kódu daleko méně času 
          a&nbsp;společně s&nbsp;tzv. hot reloadem je pak vývoj velice 
          efektivní. Odpadá tak nutnost využití technologií jako je 
          Gulp nebo Grunt pro spouštění automatizovaných úloh. 
          Typová kontrola je prováděna pomocí 
          <b><a href="https://www.typescriptlang.org/docs/handbook/type-checking-javascript-files.html">Typescript anotací</a>
          </b> a&nbsp;<b><a href="https://www.typescriptlang.org/docs/handbook/compiler-options.html">Typescript Compileru</a></b>.
        </p>
      </div>
      <div class="right" style="vertical-align: middle; text-align: center;">
        <div style="position: relative;">
          <img class="logo" src="../img/technologies.svg" alt="webpack logo" >
        </div>
      </div>
    </div>
    <div class="separator"></div>
    <div class="columns">
      <h3 style="margin-top: 1em; margin-bottom: 1em;">Breaking Changes</h3>
      <div class="left">
        <h4>Knihovna munimap</h4>
        <ul>
          <li>odebrána podpora pro Internet Explorer 11</li>
          <li>
            globální objekt <i>ol</i> nyní obsahuje pouze explicitně 
            exportované funkce a&nbsp;třídy
          </li>
          <li>
            v&nbsp;určitých případech je třeba explicitně nastavit výšku 
            a&nbsp;šířku <i>target</i> divu – souvisí s&nbsp;vykreslováním 
            objektu ol/Map
          </li>
        </ul>
      </div>
      <div class="right" style="margin-bottom: 1em;">
        <h4>Vývojové prostředí</h4>
        <ul>
          <li>
            Kód je rozdělen do ES modulů a využívá importy/exporty 
            (odebrán <i>goog.require, goog.provide</i> a 
            namespace <i>munimap</i>)
          </li>
          <li>
            OpenLayers povýšeny na verzi 6.14.1, do munimapu importovány 
            jako moduly (= odebrán legacy build OpenLayers)
          </li>
          <li>
            Gulp a jeho tasky zabezpečující automatizaci jsou nahrazeny 
            Webpackem a jeho pluginy
          </li>
        </ul>
      </div>
    </div>
    <div id="map-example" style="margin-top: 1em;"></div>
  </div>
  
  <div class="footer">
    <div class="left">
      Kontakt:
      <a href="mailto:gishelp%40ics.muni.cz">gishelp&#064;ics.muni.cz</a>
    </div>
    <div style="position: absolute;left: 48%;">
      <a href="#" class="mc-open-dialog">Nastavení cookies</a>
    </div>
    <div class="right">
      <a href="http://www.ics.muni.cz/" target="_blank">
        <img class="logo-uvt" src="../img/logo_ics.png" 
          alt="Ústav výpočetní techniky MU" title="Ústav výpočetní techniky MU">
      </a>
    </div>
  </div>
  <script type="text/javascript">
    const map_promise = munimap.create({
      target: 'map-example',
      markers: ['BMB01'],
      simpleScroll: false
    });
  </script>
  <script type="text/plain" class="mc-analytics">
    (function(i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function() {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date(); a = s.createElement(o),
        m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-43867643-3', 'maps.muni.cz');
    ga('send', 'pageview');

  </script>
  <script>
    !function(i,c){i.muniCookies=c;var s=document.createElement("script");s.src=c.scriptUrl+"main.js",document.head.appendChild(s)}(window,{
    scriptUrl: 'https://cdn.muni.cz/Scripts/libs/muni-cookies/',
    lang: 'cs',
    key: '82748854-bf78-4d53-b305-b65851c39a0f',
    customStyle: true})
  </script>
  
</body>
</html>